# üè™ –°–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–µ—Ç—å—é –º–∞–≥–∞–∑–∏–Ω–æ–≤ ‚Äì –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç —Å–æ–¥–µ—Ä–∂–∏—Ç –æ–ø–∏—Å–∞–Ω–∏–µ —Å—Ö–µ–º—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –¥–ª—è —Å–∏—Å—Ç–µ–º—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–µ—Ç—å—é –º–∞–≥–∞–∑–∏–Ω–æ–≤. –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω–∞ –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –ø—Ä–æ–¥–∞–∂–∞—Ö, –º–∞–≥–∞–∑–∏–Ω–∞—Ö, —Ç–æ–≤–∞—Ä–∞—Ö, –∫–∞—Ç–µ–≥–æ—Ä–∏—è—Ö, –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞—Ö –∏ –∫–∞—Å—Å–∏—Ä–∞—Ö.

## üóÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

–°—Ö–µ–º–∞ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –≤ —Ñ–æ—Ä–º–∞—Ç–µ [DBML](https://dbml.dbdiagram.io/home/) –∏ –≤–∫–ª—é—á–∞–µ—Ç —Å–ª–µ–¥—É—é—â–∏–µ –∫–ª—é—á–µ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:

### üéØ –û—Å–Ω–æ–≤–Ω—ã–µ —Å—É—â–Ω–æ—Å—Ç–∏

- **`stores`** ‚Äî –¥–∞–Ω–Ω—ã–µ –æ –º–∞–≥–∞–∑–∏–Ω–∞—Ö —Å–µ—Ç–∏: –Ω–∞–∑–≤–∞–Ω–∏–µ, –∞–¥—Ä–µ—Å
- **`categories`** ‚Äî —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫ –∫–∞—Ç–µ–≥–æ—Ä–∏–π —Ç–æ–≤–∞—Ä–æ–≤
- **`suppliers`** ‚Äî —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫ –ø–æ—Å—Ç–∞–≤—â–∏–∫–æ–≤
- **`products`** ‚Äî —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫ —Ç–æ–≤–∞—Ä–æ–≤ —Å –±–∞–∑–æ–≤—ã–º–∏ —Ü–µ–Ω–∞–º–∏
- **`cashiers`** ‚Äî –¥–∞–Ω–Ω—ã–µ –æ –∫–∞—Å—Å–∏—Ä–∞—Ö
- **`sales`** ‚Äî –æ—Å–Ω–æ–≤–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ –ø—Ä–æ–¥–∞–∂
- **`sale_items`** ‚Äî –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–æ–¥–∞–∂ –ø–æ —Ç–æ–≤–∞—Ä–∞–º
- **`store_prices`** ‚Äî —Ü–µ–Ω—ã —Ç–æ–≤–∞—Ä–æ–≤ –ø–æ –º–∞–≥–∞–∑–∏–Ω–∞–º

### üìä –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞

- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä–∞–∑–Ω—ã—Ö —Ü–µ–Ω –≤ —Ä–∞–∑–Ω—ã—Ö –º–∞–≥–∞–∑–∏–Ω–∞—Ö
- –ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π —Ü–µ–Ω —Ç–æ–≤–∞—Ä–æ–≤
- –°—Ç–∞—Ç—É—Å—ã –ø—Ä–æ–¥–∞–∂ (–∑–∞–≤–µ—Ä—à–µ–Ω–∞, –æ—Ç–º–µ–Ω–µ–Ω–∞, –≤–æ–∑–≤—Ä–∞—â–µ–Ω–∞)
- –£—á–µ—Ç –∫–∞—Å—Å–∏—Ä–æ–≤ –ø–æ –º–∞–≥–∞–∑–∏–Ω–∞–º

## üß© –ü–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏—è (Enums)

- `sale_status`: `completed`, `cancelled`, `refunded`

## üîó –°–≤—è–∑–∏ (Foreign Keys)

- `products.category_id` ‚Üí `categories.category_id`
- `products.supplier_id` ‚Üí `suppliers.supplier_id`
- `cashiers.store_id` ‚Üí `stores.store_id`
- `sales.store_id` ‚Üí `stores.store_id`
- `sales.cashier_id` ‚Üí `cashiers.cashier_id`
- `sale_items.sale_id` ‚Üí `sales.sale_id`
- `sale_items.product_id` ‚Üí `products.product_id`
- `store_prices.store_id` ‚Üí `stores.store_id`
- `store_prices.product_id` ‚Üí `products.product_id`

## üéØ –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –¥–æ 3NF

–°—Ö–µ–º–∞ –Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –¥–æ —Ç—Ä–µ—Ç—å–µ–π –Ω–æ—Ä–º–∞–ª—å–Ω–æ–π —Ñ–æ—Ä–º—ã (3NF) –Ω–∞ –æ—Å–Ω–æ–≤–µ –∏—Å—Ö–æ–¥–Ω–æ–π –¥–µ–Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–π —Ç–∞–±–ª–∏—Ü—ã `sales` —Å –ø–æ–ª—è–º–∏:

- `sale_id`
- `sale_date`
- `store_id`
- `store_name`
- `store_address`
- `product_id`
- `product_name`
- `category_name`
- `supplier_name`
- `price`
- `quantity`
- `total_amount`
- `cashier_id`
- `cashier_name`

### –ü—Ä–∏–Ω—Ü–∏–ø—ã –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏–∏:

1. **–£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –∏–∑–±—ã—Ç–æ—á–Ω–æ—Å—Ç–∏ –¥–∞–Ω–Ω—ã—Ö**:
   - –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –º–∞–≥–∞–∑–∏–Ω–∞—Ö –≤—ã–Ω–µ—Å–µ–Ω–∞ –≤ –æ—Ç–¥–µ–ª—å–Ω—É—é —Ç–∞–±–ª–∏—Ü—É `stores`
   - –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è—Ö –≤—ã–Ω–µ—Å–µ–Ω–∞ –≤ —Ç–∞–±–ª–∏—Ü—É `categories`
   - –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞—Ö –≤—ã–Ω–µ—Å–µ–Ω–∞ –≤ —Ç–∞–±–ª–∏—Ü—É `suppliers`
   - –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∫–∞—Å—Å–∏—Ä–∞—Ö –≤—ã–Ω–µ—Å–µ–Ω–∞ –≤ —Ç–∞–±–ª–∏—Ü—É `cashiers`

2. **–£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ —Ç—Ä–∞–Ω–∑–∏—Ç–∏–≤–Ω—ã—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π**:
   - –¢–æ–≤–∞—Ä—ã —Å—Å—ã–ª–∞—é—Ç—Å—è –Ω–∞ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –∏ –ø–æ—Å—Ç–∞–≤—â–∏–∫–æ–≤, –∞ –Ω–µ —Å–æ–¥–µ—Ä–∂–∞—Ç –∏—Ö –Ω–∞–∑–≤–∞–Ω–∏—è
   - –ö–∞—Å—Å–∏—Ä—ã —Å—Å—ã–ª–∞—é—Ç—Å—è –Ω–∞ –º–∞–≥–∞–∑–∏–Ω—ã, –∞ –Ω–µ —Å–æ–¥–µ—Ä–∂–∞—Ç –∏—Ö –Ω–∞–∑–≤–∞–Ω–∏—è –∏ –∞–¥—Ä–µ—Å–∞

3. **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–π –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏**:
   - –ö–∞–∂–¥–∞—è —Ç–∞–±–ª–∏—Ü–∞ –∏–º–µ–µ—Ç –ø–µ—Ä–≤–∏—á–Ω—ã–π –∫–ª—é—á
   - –í—Å–µ –Ω–µ–∫–ª—é—á–µ–≤—ã–µ –∞—Ç—Ä–∏–±—É—Ç—ã –ø–æ–ª–Ω–æ—Å—Ç—å—é –∑–∞–≤–∏—Å—è—Ç –æ—Ç –ø–µ—Ä–≤–∏—á–Ω–æ–≥–æ –∫–ª—é—á–∞
   - –û—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç —Ç—Ä–∞–Ω–∑–∏—Ç–∏–≤–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –º–µ–∂–¥—É –Ω–µ–∫–ª—é—á–µ–≤—ã–º–∏ –∞—Ç—Ä–∏–±—É—Ç–∞–º–∏

## üß™ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

–°—Ö–µ–º–∞ –º–æ–∂–µ—Ç –±—ã—Ç—å –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–∞ –≤ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –≤–∏–∑—É–∞–ª—å–Ω–æ–≥–æ –º–æ–¥–µ–ª–∏—Ä–æ–≤–∞–Ω–∏—è –±–∞–∑ –¥–∞–Ω–Ω—ã—Ö, —Ç–∞–∫–∏–µ –∫–∞–∫:

- [dbdiagram.io](https://dbdiagram.io)
- [QuickDBD](https://quickdatabasediagrams.com/)
- [JetBrains DataGrip](https://www.jetbrains.com/datagrip/)

–§–∞–π–ª `.dbml` –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è:
- –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –º–∏–≥—Ä–∞—Ü–∏–π
- –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ ER-–¥–∏–∞–≥—Ä–∞–º–º—ã
- —ç–∫—Å–ø–æ—Ä—Ç–∞ –≤ `.sql` –∏–ª–∏ –¥—Ä—É–≥–∏–µ —Ñ–æ—Ä–º–∞—Ç—ã

## üìä –ü—Ä–∏–º–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤

### –ü–æ–ª—É—á–µ–Ω–∏–µ –ø—Ä–æ–¥–∞–∂ —Å –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏–µ–π
```sql
SELECT 
    s.sale_id,
    s.sale_date,
    st.store_name,
    c.cashier_name,
    p.product_name,
    cat.category_name,
    sup.supplier_name,
    si.quantity,
    si.unit_price,
    si.line_total
FROM sales s
JOIN stores st ON s.store_id = st.store_id
JOIN cashiers c ON s.cashier_id = c.cashier_id
JOIN sale_items si ON s.sale_id = si.sale_id
JOIN products p ON si.product_id = p.product_id
JOIN categories cat ON p.category_id = cat.category_id
JOIN suppliers sup ON p.supplier_id = sup.supplier_id
WHERE s.sale_date >= CURRENT_DATE - INTERVAL '7 days';
```

### –ê–Ω–∞–ª–∏–∑ –ø—Ä–æ–¥–∞–∂ –ø–æ –º–∞–≥–∞–∑–∏–Ω–∞–º
```sql
SELECT 
    st.store_name,
    COUNT(DISTINCT s.sale_id) as total_sales,
    SUM(s.total_amount) as total_revenue,
    AVG(s.total_amount) as avg_sale_amount
FROM sales s
JOIN stores st ON s.store_id = st.store_id
WHERE s.status = 'completed'
GROUP BY st.store_id, st.store_name
ORDER BY total_revenue DESC;
```

## üõ° –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–π —Å—Ö–µ–º—ã

- **–£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –∏–∑–±—ã—Ç–æ—á–Ω–æ—Å—Ç–∏ –¥–∞–Ω–Ω—ã—Ö** ‚Äî –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ
- **–°–Ω–∏–∂–µ–Ω–∏–µ –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–∏ –∞–Ω–æ–º–∞–ª–∏–π –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è** ‚Äî –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤–Ω–æ—Å—è—Ç—Å—è –æ–¥–∏–Ω —Ä–∞–∑
- **–£–ø—Ä–æ—â–µ–Ω–∏–µ –ø–æ–¥–¥–µ—Ä–∂–∫–∏ —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç–∏ –¥–∞–Ω–Ω—ã—Ö** ‚Äî –≤–Ω–µ—à–Ω–∏–µ –∫–ª—é—á–∏ –æ–±–µ—Å–ø–µ—á–∏–≤–∞—é—Ç —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç—å
- **–ì–∏–±–∫–æ—Å—Ç—å –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö** ‚Äî –ª–µ–≥–∫–æ –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ –∞—Ç—Ä–∏–±—É—Ç—ã

## üìÅ –§–∞–π–ª—ã

- `–ú–∞–≥–∞–∑–∏–Ω—ã_–ë–î.dbml` ‚Äî –æ—Å–Ω–æ–≤–Ω–æ–π —Ñ–∞–π–ª —Å—Ö–µ–º—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
- `–ú–∞–≥–∞–∑–∏–Ω—ã_–ë–î_–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è.md` ‚Äî –æ–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞

## üìå –í–æ–∑–º–æ–∂–Ω—ã–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è

- [ ] –î–æ–±–∞–≤–∏—Ç—å —Ç–∞–±–ª–∏—Ü—É `inventory` –¥–ª—è —É—á–µ—Ç–∞ –æ—Å—Ç–∞—Ç–∫–æ–≤ —Ç–æ–≤–∞—Ä–æ–≤
- [ ] –î–æ–±–∞–≤–∏—Ç—å —Ç–∞–±–ª–∏—Ü—É `promotions` –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∞–∫—Ü–∏—è–º–∏
- [ ] –î–æ–±–∞–≤–∏—Ç—å —Ç–∞–±–ª–∏—Ü—É `customers` –¥–ª—è —É—á–µ—Ç–∞ –∫–ª–∏–µ–Ω—Ç–æ–≤
- [ ] –î–æ–±–∞–≤–∏—Ç—å —Ç–∞–±–ª–∏—Ü—É `audit_logs` –¥–ª—è –∞—É–¥–∏—Ç–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–π

## üì¨ –ö–æ–Ω—Ç–∞–∫—Ç—ã

- üîó **–ö–æ–Ω—Ç–∞–∫—Ç—ã –∞–≤—Ç–æ—Ä–∞**  
  ‚Ä¢ TG: [@MikhailPrasolov](https://t.me/MikhailPrasolov)  
  ‚Ä¢ –ö–∞–Ω–∞–ª: [t.me/systemananalytics](https://t.me/systemananalytics)

> –ï—Å–ª–∏ –∑–∞–º–µ—Ç–∏–ª–∏ –æ—à–∏–±–∫—É –∏–ª–∏ —Ö–æ—Ç–∏—Ç–µ –¥–æ–ø–æ–ª–Ω–∏—Ç—å –º–∞—Ç–µ—Ä–∏–∞–ª—ã ‚Äî —Å–º–µ–ª–æ –æ—Ç–∫—Ä—ã–≤–∞–π—Ç–µ Issue –∏–ª–∏ –ø—Ä–∏—Å—ã–ª–∞–π—Ç–µ Pull¬†Request!
