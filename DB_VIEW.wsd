Project "Monitoring Views" {
  database_type = "PostgreSQL"
}

Table monitoring_group_view {
  group_id uuid [pk, note: "Уникальный идентификатор группы"]
  territory text [note: "Территория мониторинга"]
  competitor_name text [note: "Конкурент, по которому проводилось сравнение"]
  product_line text [note: "Линейка продукта"]
  load_date date [note: "Дата загрузки мониторинга"]
  group_status text [note: "Статус проверки группы"]
  comment text [note: "Комментарий КМ или системы"]
}

Table monitoring_subgroup_view {
  subgroup_id uuid [pk, note: "Уникальный идентификатор подгруппы"]
  group_id uuid [ref: > monitoring_group_view.group_id, note: "Связь с группой мониторинга"]
  macroregion text [note: "Макрорегион"]
  ui4 text [note: "UI-код подгруппы"]
  status text [note: "Статус подгруппы"]
  address_comment text [note: "Комментарий по адресам конкурентов (тултип)"]
}

Table monitoring_item_view {
  item_id uuid [pk, note: "Уникальный идентификатор записи по товару"]
  subgroup_id uuid [ref: > monitoring_subgroup_view.subgroup_id, note: "Связь с подгруппой"]
  plu_code integer [note: "Код PLU товара"]
  plu_name text [note: "Наименование товара"]
  competitor_price numeric [note: "Цена конкурента по товару"]
  address text [note: "Адрес точки мониторинга"]
  status text [note: "Статус строки (например, проверено/требует проверки)"]
}